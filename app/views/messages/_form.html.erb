<% if !defined?(postfix) %>
  <% postfix = "" %>
<% end %>

<% if !defined?(show_mail_checkboxes) %>
  <% show_mail_checkboxes = false %>
<% end %>

<%= render 'shared/error_messages', object: f.object %>

<div class="mb-2">
  <%= f.label :content, :for => "MathInput#{postfix}", :class => "form-label" %>
  <%= render 'shared/preview', postfix: postfix %>
  <%= render 'shared/smiley', postfix: postfix, hiddentext: true %>
  <%= f.text_area :content, :maxlength => "8000", :class => "form-control", :style => "height:200px;", :id => "MathInput#{postfix}" %>
  <script>initAndUpdatePreviewSafeWhenPossible("<%= postfix %>", /* enableBBCode = */ true, /* enableHiddenText = */ true, /* skipUpdate = */ true)</script>
</div>

<!-- Case e-mails aux groupes A et/ou B -->
<% if current_user.root? && show_mail_checkboxes && @subject.for_wepion %>
  <div class="form-check">
  <label class="form-check-label">
    <%= check_box_tag "emailWepion", "A", false, :class => "form-check-input" %>
    Prévenir tous les élèves de Wépion de ce nouveau message par e-mail.
  </label>
  </div>
<% end %>
